"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[612],{2612:function(t,s,e){e.r(s),e.d(s,{default:function(){return l}});e(4114);var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),s("div",{staticClass:"sort-btns"},[s("div",{class:{sort_item:!0,sort_active:"all"==t.sortType},on:{click:function(s){return t.soTy("all",0)}}},[t._v("综合")]),s("div",{class:{sort_item:!0,sort_active:"sales"==t.sortType},on:{click:function(s){return t.soTy("sales",1)}}},[t._v("销量")]),s("div",{class:{sort_item:!0,sort_active:"price"==t.sortType},on:{click:function(s){return t.soTy("price",1)}}},[t._v("价格 ")])]),s("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},o=[],a=e(7867),i=e(7855),n={name:"SearchIndex",components:{GoodsItem:i.A},computed:{querySearch(){return this.$route.query.search},queryCategoryId(){return this.$route.query.categoryId}},data(){return{page:1,proList:[],sortType:"all",sortPrice:0,list:[]}},methods:{async soTy(t,s){this.sortType=t,this.sortPrice=s,this.getNewList()},async getNewList(){const{data:{list:t}}=await(0,a.Cd)({sortType:this.sortType,sortPrice:this.sortPrice,categoryId:this.queryCategoryId,goodsName:this.querySearch,page:this.page});this.proList=t.data}},async created(){this.getNewList()}},c=n,u=e(1656),d=(0,u.A)(c,r,o,!1,null,"a3578ae6",null),l=d.exports},7867:function(t,s,e){e.d(s,{B7:function(){return a},Cd:function(){return o},Yv:function(){return i}});var r=e(5720);const o=t=>{const{sortType:s,sortPrice:e,categoryId:o,goodsName:a,page:i}=t;return r.A.get("/goods/list",{params:{sortType:s,sortPrice:e,categoryId:o,goodsName:a,page:i}})},a=t=>r.A.get("/goods/detail",{params:{goodsId:t}}),i=(t,s)=>r.A.get("/comment/listRows",{params:{goodsId:t,limit:s}})}}]);
//# sourceMappingURL=612.211cb441.js.map